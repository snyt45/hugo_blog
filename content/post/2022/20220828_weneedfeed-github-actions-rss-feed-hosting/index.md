---
title: "Weneedfeed + GitHub Actionsã§ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‹ã‚‰RSSãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ã¦GitHub Pagesã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹æ–¹æ³•"
description:
slug: "weneedfeed-github-actions-rss-feed-hosting"
date: 2022-08-28T00:18:01+0900
lastmod: 2022-08-28T00:18:01+0900
image:
math:
draft: false
---

## å‰ç½®ã

[[Roam Research]]ã§ãƒ–ãƒ­ã‚°ã‚’æ§‹ç¯‰ã—ã¦ã‹ã‚‰ RSS ãƒ•ã‚£ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹æ–¹æ³•ã¨ã—ã¦æ¬¡ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã—ãŸã€‚

- https://feed43.com/
- https://happyou.info/fs/

ç‰¹ã«ä¸ä¾¿ã¯ãªã‹ã£ãŸã®ã§ã™ãŒè‡ªå‰ã§ RSS ãƒ•ã‚£ãƒ¼ãƒ‰ç”¨ã® XML ã‚’ç”Ÿæˆã—ã¦ã€XML ã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹å½¢ã§å¯¾å¿œã§ããªã„ã‹ã¨æ€ã£ãŸã®ã§å®Ÿéš›ã«èª¿ã¹ã¦æ§‹ç¯‰ã—ã¾ã—ãŸã€‚

## å®Ÿç¾ã—ãŸã„ã“ã¨

[[GitHub Actions]]ã§ RSS ãƒ•ã‚£ãƒ¼ãƒ‰ç”¨ã® XML ã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ã€ç„¡æ–™ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã§ XML ã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã€‚

## ãƒªãƒã‚¸ãƒˆãƒª

å®Ÿéš›ã«æ§‹ç¯‰ã—ãŸãƒªãƒã‚¸ãƒˆãƒªã§ã™ã€‚

https://github.com/snyt45/weneedfeed-snyt45com

## ä»Šå›ã®æ§‹æˆ

ä»Šå›ã®æ§‹æˆã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

- Weneedfeed
  - https://github.com/r7kamura/weneedfeed
- weneedfeed-action
  - https://github.com/marketplace/actions/weneedfeed
- GitHub Pages
  - https://pages.github.com/

## ã“ã®æ§‹æˆã®ç†ç”±

ä»Šå›è‡ªå‹•ç”Ÿæˆã—ãŸã„ãªãƒ¼ã¨æ€ã£ãŸã¨ãã«[[GitHub Actions]]ãŒæµ®ã‹ã‚“ã ã®ã§ã€GitGhub Actions ã® Marketplace ã‚’è¦—ã„ã¦ã¿ã‚‹ã¨ã€r7kamura ã•ã‚“ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ weneedfeed-action ã¨ã„ã†ã®ãŒç›®ã«æ­¢ã¾ã‚Šã¾ã—ãŸã€‚

- GitGhub Actions ã® Marketplace https://github.com/marketplace?type=actions

ä½¿ã„æ–¹ã‚’è¦‹ãŸæ„Ÿã˜ç°¡å˜ã«ã§ããã†ã ã£ãŸã®ã§ weneedfeed-action ã‚’ä½¿ã†æ–¹é‡ã«æ±ºã‚ã¾ã—ãŸã€‚

ç„¡æ–™ã®ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹å…ˆã¨ã—ã¦ã¯ã€GitGhub Actions ã¨ç›¸æ€§ã®è‰¯ã„ GitHub Pages ã‚’é¸ã³ã¾ã—ãŸã€‚

ã¾ãŸã€ã“ã®æ§‹æˆã§ r7kamura ã•ã‚“ãŒå®Ÿéš›ã«æ§‹ç¯‰æ¸ˆã¿ã®å‚è€ƒã«ã§ãã‚‹ãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã£ãŸã®ã‚‚å¤§ãã„ã§ã™ã€‚

https://github.com/r7kamura/weneedfeed-sundaywebry

## Weneedfeed ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§è©¦ã™

Weneedfeed ã¯ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‹ã‚‰ XML ã‚’ç”Ÿæˆã™ã‚‹ãƒ„ãƒ¼ãƒ«ã®ã‚ˆã†ã§ã™ã€‚å®Ÿéš›ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚

Weneedfeed ã¯ gem ãªã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ãŸã‚ã« Gemfile ã‚’ä½œæˆã—ã¾ã™ã€‚

```javascript
source 'https://rubygems.org'

gem 'weneedfeed
```

æ¬¡ã«`bundle install`ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

ãƒ‘ã‚¹ã‚’é€šã™ãŸã‚ã«ã€`source ~/.bashrc`ã‚’å®Ÿè¡Œã—ã¦ã€`weneedfeed help`ã§ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã§ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚

ä¸‹è¨˜ã®ã‚ˆã†ã«`weneedfeed build`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`weneedfeed.yml`ã‚’ã‚‚ã¨ã«æŒ‡å®šã®ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã‹ã‚‰ XML ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`./output`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å‡ºåŠ›ã—ã¾ã™ã€‚

```javascript
weneedfeed build --base-url=https://example.com
```

`--base-url`ã«æŒ‡å®šã—ãŸ URL ã¯ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°å…ˆã® URL(ä¾‹ï¼šhttps://snyt45.github.io/weneedfeed-snyt45com/ )ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚

æ¬¡ã«`weneedfeed.yml`ã‚’ä½œæˆã—ã¾ã™ã€‚ä¸­èº«ã¯ Weneedfeed ã® README ã‚’å‚è€ƒã«ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚

```javascript
title: Small Changes RSS feeds

pages:
  - id: snyt45com
    title: Small Changes
    description: Small Changesã®RSSãƒ•ã‚£ãƒ¼ãƒ‰ã§ã™ã€‚
    url: https://snyt45.com/
    item_selector: article
    item_link_selector: a
    item_time_selector: time
    item_title_selector: a
```

ã“ã“ã¾ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã§ã™ã€‚

```javascript
~/dev/weneedfeed via ğŸ’ v2.7.6 took 6s
â¯ tree
.
â”œâ”€â”€ Gemfile
â”œâ”€â”€ Gemfile.lock
â””â”€â”€ weneedfeed.yml

0 directories, 3 files
```

ã“ã®çŠ¶æ…‹ã§`weneedfeed build --base-url=https://example.com`ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

- ãƒ­ãƒ¼ã‚«ãƒ«ã§è©¦ã™ã ã‘ãªã®ã§`--base-url`ã¯ä»®ã§ã™ã€‚

ä¸‹è¨˜ã®ã‚ˆã†ã«`./output`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

ä»Šå›ã®ç›®çš„ã® XML ãƒ•ã‚¡ã‚¤ãƒ«ãŒ`./output/feeds/snyt45com.xml` ã«ç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚‚ç¢ºèªã§ãã¾ã—ãŸã€‚

```javascript
~/dev/weneedfeed via ğŸ’ v2.7.6
â¯ tree
.
â”œâ”€â”€ Gemfile
â”œâ”€â”€ Gemfile.lock
â”œâ”€â”€ output
â”‚Â Â  â”œâ”€â”€ feeds
â”‚Â Â  â”‚Â Â  â””â”€â”€ snyt45com.xml
â”‚Â Â  â”œâ”€â”€ index.html
â”‚Â Â  â””â”€â”€ opml.xml
â””â”€â”€ weneedfeed.yml

2 directories, 6 files
```

`./output/feeds/snyt45com.xml`ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

```javascript
â¯ cat output/feeds/snyt45com.xml
<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title><![CDATA[Small Changes]]></title>
    <link>https://snyt45.com/</link>
    <atom:link href="https://example.com/feeds/snyt45com.xml" rel="self"/>
    <description><![CDATA[Small Changesã®RSSãƒ•ã‚£ãƒ¼ãƒ‰ã§ã™ã€‚]]></description>
    <lastBuildDate>Sun, 28 Aug 2022 22:27:39 +0900</lastBuildDate>

    <item>
      <title><![CDATA[Ubuntu22.04ã§ruby3.1.0ä»¥å¤–ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ã«è‹¦åŠ´ã—ãŸè©±]]></title>
      <link>https://snyt45.com/TdTglt5eQ</link>

        <pubDate>Sun, 28 Aug 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/TdTglt5eQ</guid>

    </item>

    <item>
      <title><![CDATA[Roam Researchã§Zettelkastenã‚’å®Ÿè·µã™ã‚‹]]></title>
      <link>https://snyt45.com/18j8JdYuy</link>

        <pubDate>Mon, 01 Aug 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/18j8JdYuy</guid>

    </item>

    <item>
      <title><![CDATA[2022å¹´7æœˆã®æŒ¯ã‚Šè¿”ã‚Š]]></title>
      <link>https://snyt45.com/oKLBemvZw</link>

        <pubDate>Sat, 30 Jul 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/oKLBemvZw</guid>

    </item>

    <item>
      <title><![CDATA[ä»™å°å‡ºå¼µå‰ã«Chromeãƒªãƒ¢ãƒ¼ãƒˆãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚’è©¦ã—ã¦ã¿ãŸ]]></title>
      <link>https://snyt45.com/Ph5Yok7Zq</link>

        <pubDate>Sat, 16 Jul 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/Ph5Yok7Zq</guid>

    </item>

    <item>
      <title><![CDATA[Roam Researchã§GTDã‚’å®Ÿè·µã™ã‚‹]]></title>
      <link>https://snyt45.com/7nzMX-D02</link>

        <pubDate>Sun, 10 Jul 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/7nzMX-D02</guid>

    </item>

    <item>
      <title><![CDATA[2022å¹´6æœˆã®æŒ¯ã‚Šè¿”ã‚Š]]></title>
      <link>https://snyt45.com/pDgRjvIOd</link>

        <pubDate>Sat, 02 Jul 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/pDgRjvIOd</guid>

    </item>

    <item>
      <title><![CDATA[2022å¹´5æœˆã®æŒ¯ã‚Šè¿”ã‚Š]]></title>
      <link>https://snyt45.com/9W0vLoMdL</link>

        <pubDate>Sat, 28 May 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/9W0vLoMdL</guid>

    </item>

    <item>
      <title><![CDATA[ã‚ˆã†ã‚„ããƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã®æ„å‘³ãŒåˆ†ã‹ã£ãŸ]]></title>
      <link>https://snyt45.com/LR_aCZ8Mh</link>

        <pubDate>Fri, 06 May 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/LR_aCZ8Mh</guid>

    </item>

    <item>
      <title><![CDATA[[èª­æ›¸ãƒ¡ãƒ¢]ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨­è¨ˆå®Ÿè·µã‚¬ã‚¤ãƒ‰ï¼4ç«  æŸ”è»Ÿãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’ã¤ãã‚‹]]></title>
      <link>https://snyt45.com/YZMgwLMtL</link>

        <pubDate>Thu, 05 May 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/YZMgwLMtL</guid>

    </item>

    <item>
      <title><![CDATA[2022å¹´4æœˆã®æŒ¯ã‚Šè¿”ã‚Š]]></title>
      <link>https://snyt45.com/RcFrYkKmB</link>

        <pubDate>Wed, 04 May 2022 00:00:00 +0900</pubDate>

      <description><![CDATA[]]></description>
      <content:encoded><![CDATA[]]></content:encoded>
      <guid isPermaLink="true">https://snyt45.com/RcFrYkKmB</guid>

    </item>

  </channel>
</rss>
```

ãƒ­ãƒ¼ã‚«ãƒ«ã§ã„ã„æ„Ÿã˜ã® XML ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã§ããŸã®ã§æ¬¡ã¯ https://github.com/r7kamura/weneedfeed-sundaywebry ã‚’å‚è€ƒã«ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

## GitHub Pages ã‚’æœ‰åŠ¹ã«ã—ã¾ã™

ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ãŸã‚‰ã€Settings > Pages ã‹ã‚‰æœ‰åŠ¹ã«ã—ã¦ã€Source ã®ç®‡æ‰€ã§ã€ŒGitHub Actionsã€ã‚’é¸æŠã—ã¾ã™ã€‚

ã“ã®æ™‚ç‚¹ã§ã€GitHub Pages ãŒã§ãã¦ã„ã¾ã—ãŸã€‚ https://snyt45.github.io/weneedfeed-snyt45com/

![GitHubã®Settings](image.png)

## GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§`./output`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã¨ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’ GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹

GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§`./output`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã¨ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã‚’ GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éƒ¨åˆ†ã¯ https://zenn.dev/ssssota/articles/f2509a21b768ed ã®è¨˜äº‹ã‚’å‚è€ƒã«æ§‹ç¯‰ã—ã¾ã—ãŸã€‚

ã‚«ã‚¹ã‚¿ãƒ  GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¦ GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¯ã€å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚‚å‚è€ƒã«ãªã‚Šã¾ã™ã€‚

- https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site#creating-a-custom-github-actions-workflow-to-publish-your-site

åŸºæœ¬ã¯ã€r7kamura ã•ã‚“ã®å‚è€ƒãƒªãƒã‚¸ãƒˆãƒªé€šã‚Šãªã®ã§ã™ãŒã€GitHub Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹éƒ¨åˆ†ãŒå¤‰ã‚ã£ã¦ã„ã¾ã—ãŸã€‚

- https://github.com/r7kamura/weneedfeed-sundaywebry

æœ€çµ‚çš„ãª publish.yml ã®å†…å®¹ã§ã™ã€‚

```javascript
name: publish

on:
  push:
    branches:
      - main
  schedule:
    - cron: "0 15 * * *"

jobs:
  publish:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      # weneedfeed.ymlã®å†…å®¹ã§RSSãƒ•ã‚£ãƒ¼ãƒ‰ã®XMLãƒ•ã‚¡ã‚¤ãƒ«ã‚’./outputãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«å‡ºåŠ›
      # ref: https://r7kamura.com/articles/2020-11-15-weneedfeed
      - uses: r7kamura/weneedfeed-action@v3
        with:
          base_url: https://snyt45.github.io/weneedfeed-snyt45com
      # artifactsã«outputã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
      # ref: https://zenn.dev/ssssota/articles/f2509a21b768ed
      - uses: actions/upload-pages-artifact@v1
        with:
          path: output
  deploy:
    needs: publish # publishã®jobã«ä¾å­˜ã™ã‚‹ã®ã§needsã«æŒ‡å®š
    permissions:
      pages: write
      id-token: write
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v1
```

## å‚è€ƒè¨˜äº‹

[Weneedfeed](https://r7kamura.com/articles/2020-11-15-weneedfeed)

## ã•ã„ã”ã«

ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ä¾¿åˆ©ãª GitHub Actions ã®ãŠã‹ã’ã§å½“åˆã®ç›®çš„ã§ã‚ã‚‹ã€Œ[[GitHub Actions]]ã§ RSS ãƒ•ã‚£ãƒ¼ãƒ‰ç”¨ã® XML ã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ã€ç„¡æ–™ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã§ XML ã‚’ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã™ã‚‹ã€ã‚’é”æˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸï¼

cron ã§æ¯æ—¥ 0 æ™‚ã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€ãã®æ™‚ç‚¹ã®ãƒ–ãƒ­ã‚°ã®å†…å®¹ã‚’ã‚‚ã¨ã« RSS ãƒ•ã‚£ãƒ¼ãƒ‰ã® XML ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¦ GitHub Pages ã«è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ãã‚Œã‚‹ã®ã§ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚‚ä¸è¦ã§æœ€é«˜ã§ã™ã€‚r7kamura ã•ã‚“ã«æ„Ÿè¬ã§ã™ã€‚
