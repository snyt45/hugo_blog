---
title: "Vimのバッファを更新したいときはどうやるか調べてみた"
description:
slug: "vim-buffer-reload"
date: 2022-03-28T11:16:16+0900
lastmod: 2022-03-28T11:16:16+0900
image:
math:
draft: false
---

私は[[Vim]]と[[Visual Studio Code]]の併用をしています。

[[Vim]]で開いているバッファを[[Visual Studio Code]]で更新したときに、[[Vim]]で開いているバッファは何もしないと更新されないので、全バッファを更新する方法を調べてみました。

調べると、`:bufdo e!`で全バッファを更新してくれるみたいです。

参考：[vim で全バッファリロードしたい \- komagata のブログ](https://docs.komagata.org/5291)

ですが、`:bufdo`は副作用？があり、全てのバッファに`e!`を適用したあとに最後のバッファがカレントウィンドウになってしまいます。

例えば、ウィンドウで`:e a.txt`→ `:e b.txt`→ `:bfirst`で最初のバッファ(a.txt)にいるときに`:bufdo e!`とすると`b.txt`がカレントウィンドウで開かれます。

この挙動だと開いていたバッファを見失ってしまいますし、いちいちバッファを切り替えないといけなくなるため、`:bufdo e!`で全バッファを更新するのはあきらめ`:e!`で単一ファイルを更新する方法で一旦対応しようと思います。
